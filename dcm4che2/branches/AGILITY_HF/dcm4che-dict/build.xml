<?xml version="1.0" encoding="UTF-8"?>
<project name="project" default="all">
    <!-- Allow user to adjust build properties 
         without modifying this build script. -->
    <property file="build.properties" />
    <property name="package" value="org.dcm4che2.data" />
    <property name="folder" value="org/dcm4che2/data" />
    <property name="tagclass" value="Tag" />
    <property name="uidclass" value="UID" />


    <target name="all" depends="dictionary,uids" />

    <!-- ================================= 
          target: dictionary              
         ================================= -->
    <target name="dictionary" description="--> description">
        <xslt in="src/main/xml/part6.xml"
              out="target/xml/p6_element.xml"
              style="src/main/xsl/p6_element.xsl">
        </xslt>
        <xslt in="src/main/xml/part7.xml"
              out="target/xml/p7_element.xml"
              style="src/main/xsl/p7_element.xsl">
        </xslt>
        <xslt in="src/main/xml/elements.xml"
              out="target/xml/dictionary.xml"
              style="src/main/xsl/elements.xsl">
            <param name="package" expression="${package}" />
            <param name="class" expression="${tagclass}" />
        </xslt>
        <xslt in="target/xml/dictionary.xml"
              out="target/java/${folder}/${tagclass}.java"
              style="src/main/xsl/Tag.xsl">
            <param name="package" expression="${package}" />
            <param name="class" expression="${tagclass}" />
        </xslt>
    </target>

    <target name="uids" description="--> description">
        <xslt in="src/main/xml/part6.xml"
              out="target/xml/p6_uid.xml"
              style="src/main/xsl/p6_uid.xsl">
        </xslt>
        <xslt in="src/main/xml/uids.xml"
              out="target/xml/uids.xml"
              style="src/main/xsl/uids.xsl">
            <param name="package" expression="${package}" />
            <param name="class" expression="${tagclass}" />
        </xslt>
        <xslt in="src/main/xml/uids.xml"
              out="target/java/${folder}/${uidclass}.java"
              style="src/main/xsl/UID.xsl">
            <param name="package" expression="${package}" />
            <param name="class" expression="${uidclass}" />
        </xslt>
    </target>

    <target name="clean">
        <delete dir="target" />
    </target>

</project>


