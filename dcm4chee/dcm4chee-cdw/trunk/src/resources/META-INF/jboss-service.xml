<?xml version='1.0' encoding='UTF-8' ?>

<!-- $Id$ -->

<!DOCTYPE server PUBLIC
   "-//JBoss//DTD MBean Service 3.2//EN"
   "http://www.jboss.org/j2ee/dtd/jboss-service_3_2.dtd"
>

<server>
   <mbean code="org.dcm4chex.cdw.SpoolDirService"
      name="dcmcdw:service=SpoolDir"
      xmbean-dd="xmdesc/dcmcdw-spooldir-xmbean.xml">
   </mbean>

   <mbean code="org.jboss.varia.scheduler.Scheduler" 
	  name="dcmcdw:service=CleanSpoolDirScheduler"
      xmbean-dd="xmdesc/dcmcdw-cleanspooldir-scheduler-xmbean.xml">
      <depends>
         dcmcdw:service=SpoolDir
      </depends>
   </mbean>
   
   <mbean code="org.dcm4chex.cdw.CDWriterService"
      name="dcmcdw:service=CDWriter"
      xmbean-dd="xmdesc/dcmcdw-cdwriter-xmbean.xml">
      <depends>
         dcmcdw:service=SpoolDir
      </depends>
      <depends>
      	dcmcdw:service=Queue,name=Pending
      </depends>
      <depends>
        jboss.mq:service=InvocationLayer,type=JVM
      </depends>
   </mbean>
   
   <mbean code="org.dcm4chex.cdw.DcmServerService"
      name="dcmcdw:service=DcmServer"
      xmbean-dd="xmdesc/dcmcdw-dcmsrv-xmbean.xml">
   </mbean>
   
   <mbean code="org.dcm4chex.cdw.StoreScpService"
      name="dcmcdw:service=StoreSCP"
      xmbean-dd="xmdesc/dcmcdw-storescp-xmbean.xml">
      <depends>
         dcmcdw:service=DcmServer
      </depends>
      <depends>
         dcmcdw:service=SpoolDir
      </depends>
   </mbean>
   
   <mbean code="org.dcm4chex.cdw.MediaCreationMgtScpService"
      name="dcmcdw:service=MediaCreationMgtSCP"
      xmbean-dd="xmdesc/dcmcdw-mcmscp-xmbean.xml">
      <depends>
         dcmcdw:service=DcmServer
      </depends>
      <depends>
         dcmcdw:service=SpoolDir
      </depends>
      <depends>
         dcmcdw:service=CDWriter
      </depends>
   </mbean>
   
</server>
