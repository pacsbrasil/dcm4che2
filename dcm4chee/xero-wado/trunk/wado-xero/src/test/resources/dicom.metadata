# This metadata is for the dicom location, header and image reader components.

fileLocation=${class:org.dcm4chee.xero.metadata.filter.FilterList}
fileLocation.wadoFileLocation=${class:org.dcm4chee.xero.search.filter.WadoFileLocation}
fileLocation.wadoFileLocation.priority=500

dicomImageReader=${class:org.dcm4chee.xero.metadata.filter.FilterList}
dicomImageReader.dicom=${class:org.dcm4chee.xero.wado.DicomFilter}
dicomImageReader.dicom.priority=100


# A dicom object reader that reads the un-corrected image object - not necessarily a full header
dicomImageHeader=${class:org.dcm4chee.xero.wado.DicomImageReaderToDicomObject}
dicomFullHeader=${class:org.dcm4chee.xero.wado.DicomImageReaderToDicomObject}
dicomUpdatedHeader=${class:org.dcm4chee.xero.wado.DicomImageReaderToDicomObject}

baseImg=${class:org.dcm4chee.xero.metadata.filter.FilterList}
baseImg.fileLocation=${ref:fileLocation}
baseImg.fileLocation.priority=-1
baseImg.dicom=${ref:dicom}
baseImg.dicom.priority=-1
baseImg.src=${class:org.dcm4chee.xero.wado.DicomImageFilter}

dcmImg.inherit=baseImg
wadoImg.inherit=baseImg
image.inherit=baseImg

wlimage.inherit=baseImg
wlimage.wl=${class:org.dcm4chee.xero.wado.WLFilter}
wlimage.wl.priority=25

# Test the pixel padding extraction - must include window level as part of the chain.
relative.inherit=wlimage
relative.relative=${class:org.dcm4chee.xero.wado.ImageDisplayRelative}
relative.relative.priority=50

imageRel=${class:org.dcm4chee.xero.metadata.filter.FilterList}
imageRel.pixelPadding=${class:org.dcm4chee.xero.wado.PixelPadding}
imageRel.pixelPadding.priority=500
imageRel.overlay=${class:org.dcm4chee.xero.wado.Overlay}
imageRel.overlay.priority=400
imageRel.source=${class:org.dcm4chee.xero.wado.IndexedImageSource}

displayRel=${class:org.dcm4chee.xero.metadata.filter.FilterList}
displayRel.source=${class:org.dcm4chee.xero.wado.IndexedImageSource}

# wlfilter and encode use a fixed image encoding instead of reading actual data.
wlfilter=${class:org.dcm4chee.xero.metadata.filter.FilterList}
wlfilter.src=${class:org.dcm4chee.xero.wado.GradedWadoImage}
wlfilter.src.priority=0
wlfilter.wl=${class:org.dcm4chee.xero.wado.WLFilter}
wlfilter.wl.priority=15

encode=${class:org.dcm4chee.xero.wado.EncodeImage}
encode.wadoImage=${ref:wlfilter}

audit=${class:org.dcm4chee.xero.metadata.filter.FilterList}
audit.message=${class:org.dcm4chee.xero.search.filter.QueryAudit}
audit.return=${class:org.dcm4chee.xero.metadata.filter.ParamReturnFilter}

vaudit=${class:org.dcm4chee.xero.metadata.filter.FilterList}
vaudit.message=${class:org.dcm4chee.xero.wado.ViewAudit}
vaudit.return=${class:org.dcm4chee.xero.metadata.filter.ParamReturnFilter}
