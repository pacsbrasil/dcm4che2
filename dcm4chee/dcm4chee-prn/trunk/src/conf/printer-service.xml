<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE server>
<!-- $Id$ -->

<!-- ===================================================================== -->
<!--                                                                       -->
<!--  Printer Service Configuration                                        -->
<!--                                                                       -->
<!-- ===================================================================== -->

<server>

  <classpath codebase="lib" archives="@ARCHIVES@"/>

    <!--
    Name property calledAET defines the DICOM Called AET to which this
    Print Service is bound. If multiple Print Services are configured -
    associated with different Printers or specifing different configuration
    settings for the same Printer - they have to be distinguished by different
    calledAET values.
    -->
  <mbean code="com.tiani.prnscp.print.PrinterService" 
         name="dcm4chex:service=Printer,calledAET=TIANI_PRINT">
    <depends optional-attribute-name="PrintSCPName">
        dcm4chex:service=PrintSCP
    </depends>
    <depends optional-attribute-name="AuditLoggerName">
        dcm4chex:service=AuditLogger,name=AUDITLOG
    </depends>
         
    <!--
    Specifies name of the printer used by the system.
    -->
    <attribute name="PrinterName">MINOLTA</attribute>
    
    <!--
    Specifies Manufacturer of the printer.
    -->
    <attribute name="Manufacturer">Minolta</attribute>

    <!--
    Specifies Manufacturer's model number of the printer.
    -->
    <attribute name="ManufacturerModelName">CF 9001</attribute>

    <!--
    Specifies Manufacturer's serial number of the printer.
    -->
    <attribute name="DeviceSerialNumber"></attribute>
    
    <!--
    Specifies Manufacturer's designation of software version of the printer.
    -->
    <attribute name="SoftwareVersion">EFI Fiery X3e</attribute>

    <!--
    Specifies maximal number of jobs in printer job queue. Printer Jobs will
    be locally buffered, as long the current number of jobs queued by the
    printer exceeds this 
    -->
    <attribute name="MaxQueuedJobCount">10</attribute>
    
    <!--
    Specifies, if the state of the IPP attribute ACCEPTING_JOBS queried from
    the printer shall be ignored. Necessary with current J2SDK 1.4.1 for Linux,
    because there the returned attribute value is always NOT_ACCEPTING_JOBS,
    even the printer is actually ready to accept jobs.
    -->
    <attribute name="IgnorePrinterIsAcceptingJobs">true</attribute>
    
    <!--
    Activate support for the Basic Color Print Management Meta SOP Class.
    -->
    <attribute name="SupportsColor">true</attribute>

    <!--
    Activate support for the Basic Grayscale Print Management Meta SOP Class.
    -->
    <attribute name="SupportsGrayscale">true</attribute>

    <!--
    Specifies if color printing mode of the printer shall be also used for
    printing of monochrome (=grayscale) images.
    -->
    <attribute name="PrintGrayAsColor">false</attribute>
    
    <!--
    Activate support for the Presentation LUT SOP Class.
    -->
    <attribute name="SupportsPresentationLUT">true</attribute>
    
    <!--
    Activate support for the Basic Annotation Box SOP Class.
    -->
    <attribute name="SupportsAnnotationBox">true</attribute>
    
    <!--
    Defines Date Format used in Annotations
    -->
    <attribute name="DateFormat">yyyy-MM-dd</attribute>

    <!--
    Defines Time Format used in Annotations
    -->
    <attribute name="TimeFormat">HH:mm:ss</attribute>
    
    <!--
    Defines Maximal Number of Copies accepted by the Print SCP.
    -->
    <attribute name="MaxNumberOfCopies">99</attribute>
    
    <!--
    Medium Type identifiers supported by the printer for the Basic Film Session.
    Multiple values can be specified, must be separated by '\' characters.
    The first specified value is used as the default.
    -->
    <attribute name="MediumType">PAPER</attribute>

    <!--
    Defines default Session Label that is used when the Print SCU does not 
    specify a Session Label. $CALLING_AET$ $DATE$ $TIME$ will be replaced by
    current values.
    -->
    <attribute name="SessionLabel">print job for $CALLING_AET$</attribute>
    
    <!--
    Specifies all STANDARD\C,R image display formats accepted by the Print SCP
    for portrait orientation. Landscape image display formats are derived
    automatically.
    -->
    <attribute name="DisplayFormat">1,1\1,2\2,2\2,3\3,3\3,4\3,5\4,4\4,5\4,6\5,5\5,6\6,6</attribute>

    <!--
    Defines the default film orientation that is used when the Print SCU does not 
    specify film orientation.
    -->
    <attribute name="DefaultPortrait">true</attribute>
    
    <!--
    Film Size ID identifiers supported by the printer for the Basic Film Box. 
    Multiple values can be specified, must be separated by '\' characters
    or line breaks. 
    Format: id:WidthxHeight, with  width and height in mm.
    The first specified value is used as the default Film Size.
    -->
    <attribute name="FilmSizeID">
      A4:210x297
      A3:297x420
      8INX10IN:203x254
      8_5INX11IN:216x279
      10INX12IN:265x305
      10INX14IN:265x355
      11INX14IN:279x355
      11INX17IN:265x432
      14INX14IN:355x355
      14INX17IN:432x432
      24CMX24CM:240x240
      24CMX30CM:240x300
    </attribute>
        
    <!--
    Magnification Type identifiers supported by the printer for the Basic 
    Film Box or Basic Grayscale Image Box. Multiple values can be specified, 
    must be separated by '\' characters. The first specified value is used as
    the default.
    -->
    <attribute name="MagnificationType">BILINEAR\REPLICATE\NONE</attribute>
    
    <!--
    Defines the default Decimate/Crop Behavior that is used when the
    Print SCU does not specify a Requested Decimate/Crop Behavior.
    -->
    <attribute name="DecimateCropBehavior">DECIMATE</attribute>
   
    <!--
    Defines the default Border Density identifier that is used when the
    Print SCU does not specify Border Density.
    -->
    <attribute name="BorderDensity">WHITE</attribute>

    <!--
    Defines the default Trim behavior that is used when the
    Print SCU does not specify Trim.
    -->
    <attribute name="Trim">YES</attribute>
          
    <!--
    Defines the default illumination that is used when the Print SCU does not 
    specify an illumination value for applying the presentation LUT.
    -->
    <attribute name="Illumination">150</attribute>
          
    <!--
    Defines the default Reflected Ambient Light that is used when the Print SCU
    does not specify a Reflected Ambient Light value for applying the
    presentation LUT.
    -->
    <attribute name="ReflectedAmbientLight">0</attribute>
    
    <!--
    Defines the default directory, which contains Presentation LUTs as
    DICOM files, which can be selected by a PrintSCU via the value of the
    Film Box attribute (2010,0150) Configuration Information: shape=<LUT-name>.
    Only effective, if the Print SCU does not provide a PLUT itself using
    the PLUT SOP class.
    -->
    <attribute name="LUTDir">conf/lut</attribute>

    <!--
    Associates Calling AETs with Configuration Information values. Only effective,
    if the calling Print SCU does whether provide a PLUT using the PLUT SOP class,
    nor specifies itselfs a value of Film Box attribute
    (2010,0150) Configuration Information.
    Multiple entires must be separated by  '\' characters or line breaks.
    If no entry match the calling AET, the Configuration Information specified
    in the first entry will be used.
    At least, one entry must be configured!
    Format: <calling-aet>:<Configuration Information Value>
    Configuration Information Syntax:
        shape=IDENTITY
        shape=LIN_OD
        shape=<plut-name>      [../conf/lut/<plut.name>.lut must exists]
        gamma=<g>              [0.1 < <g> < 10]
        center=<c>,slope=<s>   [0.0 < <c> < 1.0, 0.0 < <s> < 10]
        center=<c>,slope=<s>,gamma=<g>
    -->
    <attribute name="ConfigurationInformationForCallingAET">
      AET:shape=IDENTITY
    </attribute>

    <!--
    Defines the page margin for portrait orientation.
    Format: left,right,top,bottom margin in mm.
    Page margins for landscape orientation are derived automatically
    (s. property "ReverseLandscape").
    -->
    <attribute name="PageMargin">10,10,10,10</attribute>
   
    <!--
    Defines the direction of printing in landscape orientation.
    Page margin for landscape format derived from the specification
    for portrait orientatiion depends on it.
    If true, the left side of the page in landscape orientation
    correspondes to the top side in portrait orientation.
    -->
    <attribute name="ReverseLandscape">true</attribute>
    
    <!--
    Defines the minimal spacing between images on the page in mm.
    -->
    <attribute name="BorderThickness">2.0</attribute>
   
    <!--
    Defines the maximal scaling chunk size in MB. The smaller,
    the larger the number of chunks, an image has to be devided
    for scaling. Influences necessary memory requirements (-Xmx value). 
    Usually, you need not change the default value 10.
    -->
    <attribute name="ChunkSize">10</attribute>

    <!--
    Activates down-scaling to minimize printer job size.
    Usually, you need not change the default value: true.
    -->
    <attribute name="MinimizeJobsize">true</attribute>

    <!--
    Defines, if Nearest Neighbor Interpolation is used for down-scaling,
    instead using same interpolation types as specified for magnification.  
    Usually, you need not change the default value: true.
    -->
    <attribute name="DecimateByNearestNeighbor">true</attribute>
           
    <!--
    Requested Resolution ID identifiers supported by the printer for the
    Basic Film Box. Multiple values can be specified, must be separated by 
    '\' characters. The first specified value is used as the default.
    -->
    <attribute name="ResolutionID">STANDARD:600x600\HIGH:1200x1200</attribute>
    
    <!--
    Specifies directory with contains configuration files for supported
    annotation display formats.
    Usually, you need not change the default value: conf/annotation
    -->    
    <attribute name="AnnotationDir">conf/annotation</attribute>

    <!--
    Associates Calling AETs with Annotation Display Format available in the directory
    specified by attribute AnnotationDir. Only effective, if the calling Print SCU
    does not specify an annotation display format.
    Multiple entires must be separated by  '\' characters or line breaks.
    If no entry match the calling AET, the Presentation LUT specified in the
    first entry will be used.
    At least, one entry must be configured!
    Format: <calling-aet>:<annotation ID> 
    -->
    <attribute name="AnnotationForCallingAET">
        AET:TITLE
    </attribute>
        
    <!--
    Specifies name of annotation display format used for the
    print image printout.
    Usually, you need not change the default value: NO_TITLE
    -->    
    <attribute name="AnnotationForPrintImage">NO_TITLE</attribute>
    
        
    <!--
    Specifies directory, containing calibration related configuration files:
    DSI256.ods        - measured (256) OD values of reference DSI256 pattern
                        [Required for semi-automatic calibration]
    DSI256.jpg        - scanned reference DSI256 pattern
                        [Required for semi-automatic calibration]
    <calledAET>/*.jpg - scanned DSI256 pattern printouts
                        [Required for semi-automatic calibration]
    <calledAET>.ods   - Used for inital calibration (=before first semi-automatic calibration).
                        Automatic updated after successful semi-automatic calibration,
                        if BackupCalibration=true.
    -->    
    <attribute name="CalibrationDir">conf/calibration</attribute>
    
    
    <!--
    Activates automatic check for new scanned DSI 256 pattern print out in 
    calibration from scanned in calibration directoy
    (s. attribute "CalibrationDir") - and performing a new calibration, if
    a new scan file is found - immediately before each print.
    -->    
    <attribute name="AutoCalibration">true</attribute>

    <!--
    Activates backup of last successful auto calibration.
    -->    
    <attribute name="BackupCalibration">true</attribute>
    
    <!--
    Specifies threshold in device driving levels, used for Border Detection by
    semi-automatic calibration from scanned DSI256 pattern printout.
    Usually, you need not change the default value 200.
    -->    
    <attribute name="ScanThreshold">200</attribute>
    
    <!--
    Specifies extension of measurement area in % of step height,
    used by semi-automatic calibration from scanned gray step printout.
    Usually, you need not change the default value 50.
    -->
    <attribute name="ScanPointExtension">50</attribute>
    
    <!--
    Activates redirection of all printing into a postscript file.
    Only used for debugging.
    -->
    <attribute name="PrintToFile">false</attribute>
    
    <!--
    Specifies path of the postscript file, to which all printing will be
    redirection if attribute "PrintToFile" is true.
    -->
    <attribute name="PrintToFilePath">out.ps</attribute>
    
  </mbean>
</server>

