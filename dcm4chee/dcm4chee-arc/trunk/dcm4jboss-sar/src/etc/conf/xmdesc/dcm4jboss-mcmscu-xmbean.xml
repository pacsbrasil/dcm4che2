<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mbean PUBLIC
   "-//JBoss//DTD JBOSS XMBEAN 1.1//EN"
   "http://www.jboss.org/j2ee/dtd/jboss_xmbean_1_1.dtd">

<mbean>
   <description>Media Creation Mgt. SCU</description>

   <descriptors>
      <persistence persistPolicy="OnUpdate"/>
      <persistence-manager value="org.jboss.mx.persistence.DelegatingPersistenceManager" />
   </descriptors>

   <class>org.dcm4chex.archive.dcm.mcmscu.MCMScuService</class>

   <constructor>
      <description>The default constructor</description>
      <name>MCMScuService</name>
   </constructor>

   <attribute access="read-write"
      getMethod="getFileSetIdPrefix"
      setMethod="setFileSetIdPrefix">
      <description>Prefix for FileSet ID.
      </description>
      <name>FileSetIdPrefix</name>
      <type>java.lang.String</type>
      <descriptors>
         <value value="DISK_" />
      </descriptors>
   </attribute>
 
    <attribute access="read-write"
      getMethod="getMaxMediaUsage"
      setMethod="setMaxMediaUsage">
      <description>Max media usage for collecting studies in MB (=1.000.000 Bytes).
      </description>
      <name>MaxMediaUsage</name>
      <type>long</type>
      <descriptors>
         <value value="600" />
      </descriptors>
   </attribute>

    <attribute access="read-write"
      getMethod="getMaxStudyAge"
      setMethod="setMaxStudyAge">
      <description>The max. age in days instances are allowed to be not stored on media.
      </description>
      <name>MaxStudyAge</name>
      <type>int</type>
      <descriptors>
         <value value="7" />
      </descriptors>
   </attribute>

    <attribute access="read-write"
      getMethod="getMinStudyAge"
      setMethod="setMinStudyAge">
      <description>The min. age in days instances should not be collected for offline storage.
      This value is used to ensure that all instances of a study will be stored on a single media.
      </description>
      <name>MinStudyAge</name>
      <type>int</type>
      <descriptors>
         <value value="2" />
      </descriptors>
   </attribute>

    <attribute access="read-write"
      getMethod="getCallingAET"
      setMethod="setCallingAET">
      <description>The calling AET.
      </description>
      <name>CallingAET</name>
      <type>java.lang.String</type>
      <descriptors>
         <value value="PACS_TIANI" />
      </descriptors>
   </attribute>

   <attribute access="read-write"
      getMethod="getRetrieveAET"
      setMethod="setRetrieveAET">
      <description>The retrieve AET (for move).
      </description>
      <name>RetrieveAET</name>
      <type>java.lang.String</type>
      <descriptors>
         <value value="PACS_TIANI" />
      </descriptors>
   </attribute>
   
   <attribute access="read-write"
      getMethod="getMoveDestinationAET"
      setMethod="setMoveDestinationAET">
      <description>The move destination AET.
      </description>
      <name>MoveDestinationAET</name>
      <type>java.lang.String</type>
      <descriptors>
         <value value="CDRECORD" />
      </descriptors>
   </attribute>

   <attribute access="read-write"
      getMethod="getMcmScpAET"
      setMethod="setMcmScpAET">
      <description>The Media Creation Managment SCP AET.
      </description>
      <name>McmScpAET</name>
      <type>java.lang.String</type>
      <descriptors>
         <value value="CDRECORD" />
      </descriptors>
   </attribute>

   <attribute access="read-write"
      getMethod="getAcTimeout"
      setMethod="setAcTimeout">
      <description>A-ASSOCIATE AC timeout in ms. 0 = no timeout.
      </description>
      <name>AcTimeout</name>
      <type>int</type>
      <descriptors>
         <value value="10000" />
      </descriptors>
   </attribute>

   <attribute access="read-write"
      getMethod="getDimseTimeout"
      setMethod="setDimseTimeout">
      <description>DIMSE message timeout in ms. 0 = no timeout.
      </description>
      <name>DimseTimeout</name>
      <type>int</type>
      <descriptors>
         <value value="60000" />
      </descriptors>
   </attribute>

   <attribute access="read-write"
      getMethod="getSoCloseDelay"
      setMethod="setSoCloseDelay">
      <description>Socket close delay in ms after A-RELEASE RSP.
      </description>
      <name>SoCloseDelay</name>
      <type>int</type>
      <descriptors>
         <value value="50" />
      </descriptors>
   </attribute>

   <attribute access="read-write"
      getMethod="getMaxPDUlen"
      setMethod="setMaxPDUlen">
      <description>Max. PDU size in bytes.
      </description>
      <name>MaxPDUlen</name>
      <type>int</type>
      <descriptors>
         <value value="16352" />
      </descriptors>
   </attribute>

   <attribute access="read-write"
      getMethod="getPriority"
      setMethod="setPriority">
      <description>Priority for move and media creation request. 0=medium, 1=high, 2=low.
      </description>
      <name>Priority</name>
      <type>int</type>
      <descriptors>
         <value value="0" />
      </descriptors>
   </attribute>

   <attribute access="read-write"
      getMethod="getIncludeNonDICOMObj"
      setMethod="setIncludeNonDICOMObj">
      <description>The type of none DICOM information/object that the SCP should include in the media.
      Use NO if no additional information/objects should be included.
      </description>
      <name>IncludeNonDicomObj</name>
      <type>java.lang.String</type>
      <descriptors>
         <value value="MD5_SUM" />
      </descriptors>
   </attribute>
   
   <attribute access="read-write"
      getMethod="isUseInstanceInfo"
      setMethod="setUseInstanceInfo">
      <description>Specifies whether or not to extract label information from the instances.
      </description>
      <name>UseInstanceInfo</name>
      <type>boolean</type>
      <descriptors>
         <value value="false" />
      </descriptors>
   </attribute>

   <!-- Operations -->
   &defaultOperations;

   <operation impact="ACTION">
      <description>Check availability of Media Creation Managment SCP. Returns OK, MOVE_DEST_UNAVAIL or MCM_SCP_UNAVAIL.
      </description>
      <name>checkMcmScpAvail</name>
      <return-type>java.lang.String</return-type>
   </operation>

   <operation impact="ACTION">
      <description>Associate studies older than MinStudyAge to media</description>
      <name>collectStudies</name>
      <return-type>int</return-type>
   </operation>

   <operation impact="ACTION">
      <description>Update media status</description>
      <name>updateMediaStatus</name>
      <return-type>java.lang.String</return-type>
   </operation>

   <operation impact="ACTION">
      <description>Initiate creation of Media with studies older than MaxStudyAge.
      </description>
      <name>burnMedia</name>
      <return-type>int</return-type>
   </operation>
   
</mbean>
