<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mbean PUBLIC
   "-//JBoss//DTD JBOSS XMBEAN 1.1//EN"
   "http://www.jboss.org/j2ee/dtd/jboss_xmbean_1_1.dtd">

<mbean>
   <description>MCM_SCU</description>

   <descriptors>
      <persistence persistPolicy="OnUpdate"/>
      <persistence-manager value="org.jboss.mx.persistence.DelegatingPersistenceManager" />
   </descriptors>

   <class>org.dcm4chex.archive.dcm.mcmscu.MCMScuService</class>

   <constructor>
      <description>The default constructor</description>
      <name>MCMScuService</name>
   </constructor>

   <attribute access="read-write"
      getMethod="getFileSetIdPrefix"
      setMethod="setFileSetIdPrefix">
      <description>Prefix for FileSet ID.
      </description>
      <name>FileSetIdPrefix</name>
      <type>java.lang.String</type>
      <descriptors>
         <value value="MCM_" />
      </descriptors>
   </attribute>
 
    <attribute access="read-write"
      getMethod="getMaxMediaUsage"
      setMethod="setMaxMediaUsage">
      <description>Max media usage for collecting studies in MB (=1.000.000 Bytes).
      </description>
      <name>MaxMediaUsage</name>
      <type>long</type>
      <descriptors>
         <value value="200" />
      </descriptors>
   </attribute>

    <attribute access="read-write"
      getMethod="getMaxMediaAge"
      setMethod="setMaxMediaAge">
      <description>The max. age of a media for status COLLECTING in days.
      </description>
      <name>MaxMediaAge</name>
      <type>int</type>
      <descriptors>
         <value value="7" />
      </descriptors>
   </attribute>

    <attribute access="read-write"
      getMethod="getDaysBefore"
      setMethod="setDaysBefore">
      <description>This value is used to calculate the search date from current date: Instances must be older than search date.
      </description>
      <name>DaysBefore</name>
      <type>int</type>
      <descriptors>
         <value value="2" />
      </descriptors>
   </attribute>

    <attribute access="read-write"
      getMethod="getCallingAET"
      setMethod="setCallingAET">
      <description>The calling AET.
      </description>
      <name>callingAET</name>
      <type>java.lang.String</type>
      <descriptors>
         <value value="" />
      </descriptors>
   </attribute>

   <attribute access="read-write"
      getMethod="getRetrieveAET"
      setMethod="setRetrieveAET">
      <description>The retrieve AET (for move).
      </description>
      <name>retrieveAET</name>
      <type>java.lang.String</type>
      <descriptors>
         <value value="" />
      </descriptors>
   </attribute>
   
   <attribute access="read-write"
      getMethod="getMoveDestinationAET"
      setMethod="setMoveDestinationAET">
      <description>The move destination AET.
      </description>
      <name>moveDestinationAET</name>
      <type>java.lang.String</type>
      <descriptors>
         <value value="" />
      </descriptors>
   </attribute>

   <attribute access="read-write"
      getMethod="getMcmScpAET"
      setMethod="setMcmScpAET">
      <description>The Media Creation Managment SCP AET.
      </description>
      <name>McmScpAET</name>
      <type>java.lang.String</type>
      <descriptors>
         <value value="" />
      </descriptors>
   </attribute>

   <attribute access="read-write"
      getMethod="getAcTimeout"
      setMethod="setAcTimeout">
      <description>A-ASSOCIATE AC timeout in ms. 0 = no timeout.
      </description>
      <name>acTimeout</name>
      <type>int</type>
      <descriptors>
         <value value="60000" />
      </descriptors>
   </attribute>

   <attribute access="read-write"
      getMethod="getDimseTimeout"
      setMethod="setDimseTimeout">
      <description>DIMSE message timeout in ms. 0 = no timeout.
      </description>
      <name>dimseTimeout</name>
      <type>int</type>
      <descriptors>
         <value value="10000" />
      </descriptors>
   </attribute>

   <attribute access="read-write"
      getMethod="getSoCloseDelay"
      setMethod="setSoCloseDelay">
      <description>Socket close delay in ms after A-RELEASE RSP.
      </description>
      <name>SoCloseDelay</name>
      <type>int</type>
      <descriptors>
         <value value="50" />
      </descriptors>
   </attribute>

   <attribute access="read-write"
      getMethod="getMaxPDUlen"
      setMethod="setMaxPDUlen">
      <description>Max. PDU size in bytes.
      </description>
      <name>maxPDUlen</name>
      <type>int</type>
      <descriptors>
         <value value="16352" />
      </descriptors>
   </attribute>

   <attribute access="read-write"
      getMethod="getPriority"
      setMethod="setPriority">
      <description>Priority for move and media creation request. 0=medium, 1=high, 2=low.
      </description>
      <name>priority</name>
      <type>int</type>
      <descriptors>
         <value value="0" />
      </descriptors>
   </attribute>

   <attribute access="read-write"
      getMethod="isIncludeNonDICOMObj"
      setMethod="setIncludeNonDICOMObj">
      <description>A flag indicating if the SCP should include in the media additional Non-DICOM information/objects
      </description>
      <name>includeNonDicomObj</name>
      <type>boolean</type>
      <descriptors>
         <value value="false" />
      </descriptors>
   </attribute>
   
   <attribute access="read-write"
      getMethod="isUseInstanceInfo"
      setMethod="setUseInstanceInfo">
      <description>Specifies whether or not to extract label information from the instances.
      </description>
      <name>useInstanceInfo</name>
      <type>boolean</type>
      <descriptors>
         <value value="false" />
      </descriptors>
   </attribute>

   <!-- Operations -->
   &defaultOperations;

   <operation impact="ACTION">
      <description>Check availability of Media Creation Managment SCP. Returns OK, MOVE_DEST_UNAVAIL or MCM_SCP_UNAVAIL.
      </description>
      <name>checkMcmScpAvail</name>
      <return-type>java.lang.String</return-type>
   </operation>

   <operation impact="ACTION">
      <description>Collect studies to medias</description>
      <name>collectStudies</name>
      <return-type>int</return-type>
   </operation>

   <operation impact="ACTION">
      <description>Update media creation status</description>
      <name>getMediaCreationStatus</name>
      <return-type>java.lang.String</return-type>
   </operation>

   <operation impact="ACTION">
      <description>Schedule all media with status COLLECTING and an age greater than maxMediaAge.
      </description>
      <name>scheduleCollectingMedia</name>
      <return-type>int</return-type>
   </operation>
   
</mbean>
