<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE server>
<!-- $Id$ -->

<!-- ===================================================================== -->
<!--                                                                       -->
<!--  DICOM Storage Service Configuration                                   -->
<!--                                                                       -->
<!-- ===================================================================== -->

<server>

<classpath codebase="lib" archives="dcm4jboss.jar"/>

  <mbean code="org.dcm4chex.service.MoveScuService" 
	name="dcm4chex:service=MoveScu,aet=MOVE_SCU">

    <!-- Do NOT uncomment this line if the service is deployed
    in the same jboss instance as the Storage EJB. Otherwise
    in VM calls to go over RMI!
        
    <attribute name="EjbProviderURL">jnp://localhost:1099</attribute>
    -->

    <!-- 
    Specifies JNDI name used to look up the datasource.
    Name after "java:/" must match with <jndi-name> attribute of 
    JDBC Datasource configuration deployment file (*-ds.xml) 
	-->
    <attribute name="DataSource">java:/PostgresDS</attribute>    

    <attribute name="RetryIntervalls">1m,10m,1h,6h,1d</attribute>    

  </mbean>

  <mbean code="org.jboss.varia.scheduler.Scheduler" 
	 name="dcm4chex:service=Scheduler,name=Scheduler of MoveScu">
    <attribute name="StartAtStartup">true</attribute>
    <attribute name="SchedulableMBean">dcm4chex:service=MoveScu,aet=MOVE_SCU</attribute>
    <attribute name="SchedulableMBeanMethod">run</attribute>
    <attribute name="InitialStartDate">NOW</attribute>
    <attribute name="SchedulePeriod">10000</attribute>
    <attribute name="InitialRepetitions">-1</attribute>
  </mbean>

</server>

