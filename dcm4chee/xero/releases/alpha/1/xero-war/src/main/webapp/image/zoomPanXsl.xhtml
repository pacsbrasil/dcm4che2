<x:xsl
   pageConfig="#{PageConfig.display.zoomPan}"
   xmlns:x="http://www.dcm4che.org/xero/jsf"
   xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
   xmlns:m="http://www.dcm4che.org/xero/metadata/display/zoomPan"
   xmlns:md="http://www.dcm4che.org/xero/metadata/display"
   m:includeXsl="/image/zoomPanXsl.xhtml"
   xmlns:c="http://java.sun.com/jstl/core"
   m:toolbar="zoomPanToolbar" m:toolbar.priority="0"
   m:script="/xero/image/zoomPan.js"
>

<xsl:template name="zoomPanToolbar">
  <xsl:if test="/documents/mode!='zoomPan'">
  <a>
    <xsl:attribute name="id">zoomPan</xsl:attribute>
    <xsl:attribute name="style">float: left;</xsl:attribute>
  	<xsl:attribute name="href">action/ZoomPan.action?cid=<xsl:value-of select="$cid"/>&amp;mode=zoomPan</xsl:attribute>
  	Zoom/Pan<span> </span>
  </a>
  </xsl:if>
  <xsl:if test="/documents/mode='zoomPan'">
  <span id="zoomPanToolbar" style="float: left; ">
  
  Zoom/Pan: 
  <a>
    <xsl:attribute name="id">zoomPan</xsl:attribute>
    <xsl:attribute name="style">display: none;</xsl:attribute>
  	<xsl:attribute name="href">action/ZoomPan.action?cid=<xsl:value-of select="$cid"/></xsl:attribute>
  </a>
  
  <a>
  	<xsl:attribute name="href">action/ZoomPan.action?cid=<xsl:value-of select="$cid"/>&amp;zoom=<xsl:value-of select='1+/documents/region/@zoom' /></xsl:attribute>
  	<xsl:attribute name="id">zoomPlus</xsl:attribute>
  	<xsl:attribute name="onclick">return displayXslt.action("zoomPlus");</xsl:attribute>
  	<span style="width: 2em;" >+</span>
  </a>
  <xsl:if test="/documents/region/@zoom > 0">
  <a>
  	<xsl:attribute name="href">action/ZoomPan.action?cid=<xsl:value-of select="$cid"/>&amp;zoom=<xsl:value-of select='-1+/documents/region/@zoom' /></xsl:attribute>
  	<xsl:attribute name="id">zoomMinus</xsl:attribute>
  	<xsl:attribute name="onclick">return displayXslt.action("zoomMinus");</xsl:attribute>
  	<span style="width: 2em;" >-</span>
  </a>
  </xsl:if>
  <a>
  	<xsl:attribute name="href">action/ZoomPan.action?cid=<xsl:value-of select="$cid"/>&amp;panX=-0.25</xsl:attribute>
  	<xsl:attribute name="id">zoomLeft</xsl:attribute>
  	<xsl:attribute name="onclick">return displayXslt.action("zoomLeft");</xsl:attribute>
  	<span style="width: 2em;" >&lt;-</span>
  </a>
  <a>
  	<xsl:attribute name="href">action/ZoomPan.action?cid=<xsl:value-of select="$cid"/>&amp;panY=-0.25</xsl:attribute>
  	<xsl:attribute name="id">zoomUp</xsl:attribute>
  	<xsl:attribute name="onclick">return displayXslt.action("zoomUp");</xsl:attribute>
  	<span style="width: 2em;" >^</span>
  </a>
  <a>
  	<xsl:attribute name="href">action/ZoomPan.action?cid=<xsl:value-of select="$cid"/>&amp;panY=0.25</xsl:attribute>
  	<xsl:attribute name="id">zoomDown</xsl:attribute>
  	<xsl:attribute name="onclick">return displayXslt.action("zoomDown");</xsl:attribute>
  	<span style="width: 2em;" >\/</span>
  </a>
  <a>
  	<xsl:attribute name="href">action/ZoomPan.action?cid=<xsl:value-of select="$cid"/>&amp;panX=0.25</xsl:attribute>
  	<xsl:attribute name="id">zoomRight</xsl:attribute>
  	<xsl:attribute name="onclick">return displayXslt.action("zoomRight");</xsl:attribute>
  	<span style="width: 2em;" >-></span>
  </a>
  
  </span>
  </xsl:if>
</xsl:template>

</x:xsl>