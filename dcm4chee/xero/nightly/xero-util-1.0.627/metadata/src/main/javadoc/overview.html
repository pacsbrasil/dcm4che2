<html>
<head><title>Xero MetaData Framework</title></head>
<body>
<h1>Xero MetaData Framework</h1>

<p>The Xero MetaData Framework is a library that provides multiple ways to declare and use meta-data.
In this case, meta-data means data about the overall application organization and configuration from a
static, structural point of view. 
The intent was to allow meta-data to be both used and declared from a variety of types of components, not just Java, and
to allow meta-data to be re-used to reconfigure applications for different deployment types and organizations.
Further, the intent is to provide a few standard types of uses - a straight name/value use, a list of values use, and
an implementation of the 
<a href="http://www.cs.cmu.edu/afs/cs/project/tinker-arch/www/html/1997/lectures/15.Patterns/base.026.html">pipe-and-filter</a>
 design pattern.</p>
 
 <h2>MetaData</h2>
 <p>For this library, meta-data is defined as the static data used by a class and the connections between classes, 
 including types, list and sets of values chosen.  The preferred type of meta-data to declare is the type of information
 and connections that migh be modified or extended for a given installation or version of the software.  Thus, it is
 convenient to be able to plugin new script libraries to include in a web page, but it is unlikely to be useful to 
 allow changing the choice of the type of list class used internally to sort some set of input numbers provided by a user
 - the difference is that the second choice doesn't contain statically configurable data, but is more implementation
 detail.  This is a bit of a fine line in some cases.  The recommendation is to err on the side of making fewer items
 configurable and then modifying the code to add configuration as required.  This should fairly quicly result in the
 correct set of configuraiton, without making it over-configurable and too difficult to manage.</p>
 
 <h2>Usage of MetaData</h2>
 <p>The meta-data bean object implements the map interface.  It is thus quite easy to use
 from various applications such as JavaScript, Java and so on, as well as providing an injection mechanism
 described later than can be used to create and tie Java objects together.</p>
 
 <h3>MetaData File Format</h3>
 <p>The basic file format for metadata is a properties file, with properties starting with ${ being
 a declarable instance, that is, a value that is replaced with another value in some way.  Additionally,
 the metadata can declare inherittable metadata - the highest (first included) metadata
 takes priority, followed by the various includes.  For example, a customization of wado2.metadata looks like:
 
 <pre>
# Include the underlying wado2.metadata file
metaDataProvider.propertyWado2=${class:org.dcm4chee.xero.metadata.PropertyProvider}
metaDataProvider.propertyWado2.wado2=wado2.metadata
metaDataProvider.propertyWado2.wado2.priority=10

# Declare and instance value, and a property (priority) on that instance value.  
dicomImageReader.wadoDiverter=${class:com.agfa.xero.lightweight.cache.WadoCacheDiverterFilter}
dicomImageReader.wadoDiverter.priority=250
</pre>
 </p>
 
 <h3>Reading a MetaData File</h3>
 <p>See <a href="org/dcm4chee/xero/metadata/StaticMetaData.html">StaticMetaData</a> methods to 
 statically read a meta-data file.  Alternatively, to use it from a servlet, consider using the 
 <a href="org/dcm4chee/xero/metadata/servlet/MetaDataServlet.html">MetaDataServlet</a> that can declare which metadata file to use and where to use it from.</p>
 
 <h3>Injecting MetaData dependencies</h3>
 <p>The <a href="org/dcm4chee/xero/metadata/MetaData.html">MetaData</a>
 tag is used to indicate to inject a meta-data dependency.  This is only done for
 objects created by the MetaDataBean itself, and thus declared by the meta data framework, although
 it is also possible to use the <a href="org/dcm4chee/xero/metadata/Injector.html">Injector</a> class to manually inject changes.</p>
 
 <h3>Convenient Types That Use MetaData</h3>
 <p>See the <a href="org/dcm4chee/xero/metadata/access/package-summary.html">org.dcm4chee.xero.metadata.access</a> package for lists, maps and 
 filter/pipe implementations that use the metadata to create more complex structures.</p>
 
 <h2>Comparison With Other MetaData Libraries/Frameworks</h2>
 <p>Why is yet another meta-data library required?  The answer to that question lies in the goals for this project.
 One goal is to allow MANY types of objects to declare meta-data - JavaScript, XML, Property files, Java tags, JNDI,
 and user extended sources.  Not all of these are likely to be used for a single system/application but it has been
 very convenient to allow declaration in many places.  Another goal is to allow the registered information/objects 
 to be used from many locations - to this end, a simple hierarchical map access type structure has been chosen rather
 than a more complex/structured plugin mechanism.</p>
 
 <h3>Java Tags</h3>
 <p>Java tags are very Java class centric - the primary issue being declaration in non-Java components.</p>
 
 <h3>Spring</h3>
 <p>It appears that Spring is primarily an injection mechanism, not a metadata mechanism.  If someone can suggest 
 how to use Spring for a meta-data mechanism instead of injection and to allow pluggable meta-data declaration types, 
 then Spring might well be a better choice, just to make it more familiar to more users.</p>
 
 <h3>Eclipse Plugin</h3>
 <p>It seems likely that the eclipse plugin mechanism could be extended to allow plugging in additional data types, 
 at least for some plugin points.  However, it wasn't very clear how to do this, and at the point this library was written,
 the server parts for the eclipse plugin were not at all mature, and seemed incompatible with other selected libraries.  
 Again, someone who knows this library well might be able to suggest how to modify Xero to use the Eclipse plugins.
 This would be the first choice selection for an alternative to this library, as other developers likely to use Xero
 are already familiar with the Eclipse plugin mechanism.</p>
  
 </body>
 </html>
