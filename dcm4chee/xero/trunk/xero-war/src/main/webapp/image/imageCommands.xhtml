<!-- Contains information about the user preferences and settings applied to study and lower level
     commands.  Other files define preferences for other areas.
  -->
<xul:preference 
  xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"   
  xmlns="http://www.w3.org/1999/xhtml"
>
  <!-- Defines the study level toolbar contents.  This is a toolbar intended to be defined
     per-study, but that doesn't mean it can't apply things to individual images
    -->
  <div class="menu" id='studyToolbar'>
   <ul>
    <li><xul:navSeriesButton id="prevSeries" dir="-1" label="&lt;Series" oncommand="/xero/image/action/Navigate.seam?applyLevel=series"/></li>
    <li><a id="wlBtn" class="active" mode="windowLevel" oncommand="/xero/image/action/Mode.seam?mode=windowLevel"  ><img src="/xero/img/wl.png" alt="[Window Level]" height="22"/></a></li>
    <li><a id="zpBtn" mode="zoomPan" oncommand="/xero/image/action/Mode.seam?mode=zoomPan"><img src="/xero/img/zoomPan.png" alt="[Zoom/Pan]"  height="22"/></a></li>
    <li><a id="cmBtn" mode="createMarkup" oncommand="/xero/image/action/Mode.seam?mode=createMarkup" ><img src="/xero/img/polyCaliper.png" alt="[Poly Caliper]"  height="22"/></a>
     <ul>
	    <li><a id="emBtn" mode="editMarkup" oncommand="/xero/image/action/Mode.seam?mode=editMarkup" ><img src="/xero/img/editMarkup.png" alt="[Edit Markup]"  height="22"/> Edit</a></li>	 
	 </ul>
	</li>
    <li><a id="cineBtn" mode="cine" label="Cine" oncommand="/xero/image/action/Mode.seam?mode=cine"><img src="/xero/img/cine.png" alt="[CINE]"  height="22"/></a></li>

    <li><img src="/xero/img/layoutSe2x2.png" alt="[Se2x2]" height="22"/>
     <ul>
      <li><a id="layoutSe2x2" oncommand="/xero/image/action/Layout.seam?layout=layoutSe2x2.xml" ><img src="/xero/img/layoutSe2x2.png" alt="[Se2x2]" height="22"/></a></li>
      <li><a id="layout1x1" oncommand="/xero/image/action/Layout.seam?layout=layout1x1.xml" ><img src="/xero/img/layout1x1.png" alt="[1x1]" height="22"/></a></li>
      <li><a id="layoutIm5x5" oncommand="/xero/image/action/Layout.seam?layout=layoutIm5x5.xml" ><img src="/xero/img/layoutIm5x5.png" alt="[Im5x5]" height="22"/></a></li>
	  <li><a id="layoutPrint" target="Print" oncommand="/xero/image/action/Layout.seam?layout=layoutPrint.xml">Print</a></li>
	  <li><a id="layoutDebug" oncommand="/xero/image/action/Layout.seam?layout=layout.xml&amp;debug=true" >Debug</a></li>
	 </ul>
	</li>

    <li>Apply Level
     <ul>
      <li><a id="studyLevel" oncommand="/xero/image/image.seam?applyLevel=study">Study</a></li>
      <li><a id="seriesLevel" oncommand="/xero/image/image.seam?applyLevel=series">Series</a></li>
      <li><a id="imageLevel" oncommand="/xero/image/image.seam?applyLevel=image">Image</a></li>
     </ul>
    </li>
    <li><a id="nextSeries" oncommand="/xero/image/action/Navigate.seam?applyLevel=series&amp;dir=1">Series ></a></li>
    
    <li><a id="viewBody" onclick="alert('HTML page is '+document.getElementsByTagName('body')[0].innerHTML);" >Body</a></li>
    <li><a id="viewI0" onclick="alert('I0 is '+document.getElementById('dimgi0').innerHTML);" >Img0</a></li>
    <li><a id="viewSe0" onclick="alert('Se0 is '+document.getElementById('Se0').innerHTML);" >Se0</a></li>
   </ul>
  </div>
  
  <!-- Defines the series level toolbar.  Can't affect the study level display.  
    -->
  <xul:toolbar id='seriesToolbar'>
   <xul:navImgButton id="previousImage" dir="-1" label="&lt;Image"  oncommand="/xero/image/action/Navigate.seam?applyLevel=image&amp;dir=-1" />

   
   <xul:navImgButton id="nextImage" label="Image>"  dir="1" oncommand="/xero/image/action/Navigate.seam?applyLevel=image&amp;dir=1" />
   <xul:modeButton id="playBtn" mode="cine" label="Play" />
 </xul:toolbar>

 <xul:toolbar id="imgToolbar">
    <xul:modeButton id="zpPlus" mode="zoomPan" label="Zoom +" oncommand="/xero/image/action/ZoomPan.seam?relZoom=1&amp;size=MAGNIFY">
     <xul:region />
    </xul:modeButton>
    <xul:modeButton id="zpMin" mode="zoomPan" label="-" oncommand="/xero/image/action/ZoomPan.seam?relZoom=-1&amp;size=MAGNIFY">
     <xul:region />
    </xul:modeButton>
 </xul:toolbar>
   
  <!-- Contains overlay information for how items are handled, and what extra views are present
       in the image area.
    -->
  <xul:overlay id='imageOverlay'>
    <xul:imageHandler mode="windowLevel" handler="windowLevelHandler" oncommand="/xero/image/action/WindowLevel.seam?i=0">
      <xul:windowLevel />
    </xul:imageHandler>
    
    <xul:imageHandler mode="zoomPan" handler="zoomPanHandler" oncommand="/xero/image/action/ZoomPan.seam?size=MAGNIFY" />
    
    <xul:imageHandler mode="createMarkup" handler="markupCreate" />
    
  </xul:overlay>
  
  <xul:overlay id='imageHover'>
    <xul:imageHover handler="imageHoverHandler" oncommand="/xero/image/action/ImageHover.seam?hover=true" />
    
    <xul:imageHandler mode="windowLevel" handler="windowLevelHandler" oncommand="/xero/image/action/WindowLevel.seam?i=0">
      <xul:windowLevel />
    </xul:imageHandler>
    
    <xul:imageHandler mode="zoomPan" handler="zoomPanHandler" oncommand="/xero/image/action/ZoomPan.seam?size=MAGNIFY" />
    
  </xul:overlay>
</xul:preference>
