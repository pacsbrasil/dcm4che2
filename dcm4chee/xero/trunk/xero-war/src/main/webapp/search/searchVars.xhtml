<!-- Defines a bunch of search variables for inclusion in XSL files. -->
<ui:component xmlns:ui="http://java.sun.com/jsf/facelets" 
   xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
   xmlns:s="http://www.dcm4chee.org/xero/search/"
>

<xsl:variable name="tableColumnsDoc" select="/documents/tableColumns" />
<xsl:variable name="tableColumns" select="document($tableColumnsDoc)/s:searchCriteria" />
<xsl:variable name="displayedColumns" select="$tableColumns/s:attribute[@column='true']" />

<xsl:variable name="searchResultsDoc" select="/documents/searchResults" />
<xsl:variable name="docNode" select="document($searchResultsDoc)" />

<xsl:variable name="searchParameters" select="/documents/s:searchCriteria" />

<xsl:variable name="cid" select="/documents/@conversationId" />

<!-- Patient node needs to be defined for some of the includes, so define it as ALL patients -->
<xsl:variable name="patientNode" select="$docNode/se:search/se:patient" />

<xsl:variable name="selectedStudies" select="/documents/study" />

</ui:component>