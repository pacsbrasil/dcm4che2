  <!-- Includes all XSL files referenced form the fromMeta tag.
       Metadata of the form NAME.includeXsl=... is included as xsl include,
       Metadata of the form NAME.includeFacelet=... is included as facelet.
       Metadata of the form NAME.includeLiteral=... is included as raw text.
       @param fromMeta is the metadata item to test for includes.
   -->
<ui:component xmlns:ui="http://java.sun.com/jsf/facelets" 
   xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
   xmlns:x="http://www.dcm4che.org/xero/jsf"
   xmlns:c="http://java.sun.com/jstl/core"
   xmlns:fn="http://java.sun.com/jsp/jstl/functions"
>
   <c:forEach var="includeXslHref" items="#{x:sorted(fromMeta,'includeXsl')}">
     <c:if test="#{fn:endsWith(includeXslHref.includeXsl,'.xsl')}">
       <xsl:import href="#{includeXslHref.includeXsl}" />
     </c:if>
     <c:if test="#{fn:endsWith(includeXslHref.includeXsl,'.xhtml')}">
       <ui:include src="#{includeXslHref.includeXsl}" />
     </c:if>
   </c:forEach>
   
</ui:component>